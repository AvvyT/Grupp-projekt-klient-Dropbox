(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1:function(e,t,a){e.exports={ContainerDivStyle:"main_ContainerDivStyle__1-Zja",ContainerNavStyle:"main_ContainerNavStyle__3QMWA",topNavStyle:"main_topNavStyle__3KRn8",topNavRight:"main_topNavRight__2rgvY",topNavLeft:"main_topNavLeft__kIM2X",mainTableDisplayStyle:"main_mainTableDisplayStyle__3MNW8",filesDiv:"main_filesDiv__2RGHh",DisplayDivStyle:"main_DisplayDivStyle__2w8UU",mainDivStyle:"main_mainDivStyle__1b420",titleStyle:"main_titleStyle__YQy1h",logoDivStyle:"main_logoDivStyle__1GU4l",logoImgStyle:"main_logoImgStyle__fO3tG",fromStyle:"main_fromStyle__rr2ig",inputStyle:"main_inputStyle__1pfwz",listStyle:"main_listStyle__jFwCm",listItemStyle:"main_listItemStyle__tzFrw",tableStyle:"main_tableStyle__in6Wf",iconImgStyle:"main_iconImgStyle__3hNFm",favoriteButton:"main_favoriteButton__3xNzA",favoriteIcon:"main_favoriteIcon__1GpdR",favoriteIconOn:"main_favoriteIconOn__Ihhgs",deleteIcon:"main_deleteIcon__1DQbZ",deleteFileModal:"main_deleteFileModal__2BLob",deleteFileModalButtons:"main_deleteFileModalButtons__1Y67P",listDiv:"main_listDiv__35Cod",list:"main_list__lANL2",uploadButtonStyle:"main_uploadButtonStyle__PuVVD",buttonStyle:"main_buttonStyle__28dM1",connectButtonStyle:"main_connectButtonStyle__3tSR7",buttonsDiv:"main_buttonsDiv__2YHpP",ModalMainDiv:"main_ModalMainDiv__380AP",ModalHeader:"main_ModalHeader__1U3wm",ModalBody:"main_ModalBody__2oiU_",ModalButtons:"main_ModalButtons__i4XR6",modalRoutsDiv:"main_modalRoutsDiv__saMFq",createFolderInputDiv:"main_createFolderInputDiv__1iI9I",ModalBodyDiv:"main_ModalBodyDiv__2RPhb",ModalBodyDivSpan:"main_ModalBodyDivSpan__1pDBl",MoveFolderLinks:"main_MoveFolderLinks__Tgmwq",MoveFolderMainDiv:"main_MoveFolderMainDiv__2Bbum",removeFileModalBody:"main_removeFileModalBody__2aoOk",spinnerDiv:"main_spinnerDiv__ndhIn",spinnerNoFolders:"main_spinnerNoFolders__3wOTj",breadcrumb:"main_breadcrumb__1FL5P",fileContainer:"main_fileContainer__2Dotj",searchDiv:"main_searchDiv__1Ip_j",createFolderInput:"main_createFolderInput__1WReL",changeNameInput:"main_changeNameInput__3SwuB",changeNameForm:"main_changeNameForm__3L1bS",UploadProgress:"main_UploadProgress__2VOP6",progressBarContainer:"main_progressBarContainer__3jWEk",progressBar:"main_progressBar__3nvJD",fileInfo:"main_fileInfo__26r8k",UserDropDown:"main_UserDropDown__3RdFm",UserDropDownDropList:"main_UserDropDownDropList__234ez",dropDownListOne:"main_dropDownListOne__33u0s",dropDownListTow:"main_dropDownListTow__2utjc",dropDownListThree:"main_dropDownListThree__1_1dS",dropDownUserInfo:"main_dropDownUserInfo__3VIDY",dropDownProgress:"main_dropDownProgress__OSD6s",dropDownProgressBar:"main_dropDownProgressBar__19Z3P",downloadProgress:"main_downloadProgress__1GZjT"}},24:function(e,t,a){e.exports=a(42)},29:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(2),l=a(0),o=a.n(l),r=a(14),c=a.n(r),i=a(6),s=a(3),m=(a(29),a(12)),u=a(10),d=Object(l.createContext)({createFolder:!1}),f=function(e,t){switch(t.type){case"FETCH_DATA":return e.searchActive?e:Object(u.a)({},e,{files:t.data,searchActive:t.searchActive});case"DELETE_FILE":var a=Object(m.a)(e.files);return Object(u.a)({},e,{files:a.filter(function(e){return e.id!==t.file.id})});case"CHANGE_NAME":var n=Object(m.a)(e.files),l=t.file,o=l.server_modified,r=l.path_lower,c=l.path_display,i=l.name;return n.map(function(e){return e.id===t.id?(e.name=i,e.path_display=c,e.path_lower=r,e.server_modified=o,e):e}),Object(u.a)({},e,{files:n});case"SEARCH_OFF":return Object(u.a)({},e,{searchActive:!1});case"CREATE_FOLDER_ON":return Object(u.a)({},e,{createFolder:!0});case"CREATE_FOLDER_OF":return Object(u.a)({},e,{createFolder:!1});default:return e}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var p=a(1),h=a.n(p),v=a(15),E=function(){return window.localStorage.setItem("token",Object(v.parseQueryString)(window.location.hash.substr(1)).access_token),window.localStorage.setItem("account_id",Object(v.parseQueryString)(window.location.hash.substr(1)).account_id),o.a.createElement("div",{className:h.a.mainDivStyle},Object(v.parseQueryString)(window.location.hash.substr(1)).access_token?o.a.createElement(i.a,{to:"/"}):null)},g=function(e){return o.a.createElement("div",{className:h.a.ContainerNavStyle},o.a.createElement("ul",{className:h.a.listStyle},o.a.createElement("li",null,o.a.createElement(s.b,{to:"/"},o.a.createElement("img",{className:h.a.logoImgStyle,alt:"logo",src:"https://cdn.freebiesupply.com/logos/large/2x/dropbox-2-logo-png-transparent.png"}))),o.a.createElement("li",{style:{color:"#007EE5"},className:h.a.listItemStyle},"Home"),o.a.createElement("li",{className:h.a.listItemStyle},o.a.createElement(s.b,{to:""},"Files")),o.a.createElement("li",{className:h.a.listItemStyle},o.a.createElement(s.b,{to:"/favorites"},"Favorites"))))};function _(e,t,a){var n;a.filesListFolder({path:"/"===t?t.replace("/",""):t}).then(function(e){return e.entries}).then(function(t){n=t,a.filesGetThumbnailBatch({entries:t.filter(function(e){return"file"===e[".tag"]}).map(function(e){return{path:e.path_lower,size:"w32h32"}})}).then(function(t){var a=n.map(function(e){return"folder"!==e[".tag"]?Object(u.a)({},e,{thumbnail:t.entries.filter(function(t){return t&&"success"===t[".tag"]&&t.metadata.name===e.name})[0]}):e});e(a)})})}function b(e,t){var a=Object(l.useState)(function(){try{var a=window.localStorage.getItem(e);return a?JSON.parse(a):t}catch(n){return console.log(n),t}}),o=Object(n.a)(a,2),r=o[0],c=o[1];return[r,function(t){try{var a=t instanceof Function?t(r):t;c(a),window.localStorage.setItem(e,JSON.stringify(a))}catch(n){console.log(n)}}]}var w=function(e){var t=e.children;return o.a.createElement("div",{className:"modalContainer"},o.a.createElement("div",{className:"modalContent"},t))},y=document.getElementById("portal"),C=function(e){var t=e.children,a=document.createElement("div");return Object(l.useEffect)(function(){return y.appendChild(a),function(){y.removeChild(a)}}),c.a.createPortal(t,a)},D=function(e){var t=e.name,a=e.setDeleteToggle,n=e.deleteOn,l=e.handleDelete;return o.a.createElement(C,null,o.a.createElement(w,null,o.a.createElement("div",{className:h.a.ModalMainDiv},o.a.createElement("div",{className:h.a.ModalHeader},o.a.createElement("h4",null,"Delete !")),o.a.createElement("div",{className:h.a.ModalBody},o.a.createElement("div",{className:h.a.ModalBodyDiv},o.a.createElement("div",{className:h.a.removeFileModalBody},o.a.createElement("p",null,"Are you sure you want to delete ",o.a.createElement("strong",null,t)," from your Dropbox?"))),o.a.createElement("div",{className:h.a.ModalButtons},o.a.createElement("button",{onClick:l},"Delete"),o.a.createElement("button",{onClick:function(){return a(!n)}},"Cancel"))))))},O=function(e){var t=e.location,a=e.action,r=e.dbx,c=Object(l.useState)(null),i=Object(n.a)(c,2),m=i[0],u=i[1];return Object(l.useEffect)(function(){var e=!0;return _(function(t){e&&u(t)},t.pathname.replace("/"+a,""),r),function(){e=!1}},[t.pathname]),o.a.createElement(o.a.Fragment,null,null===m?o.a.createElement("div",{className:h.a.spinnerDiv},o.a.createElement("div",{className:"spinner"}),"Loading your files ..."):0===m.length?o.a.createElement("div",{className:h.a.spinnerNoFolders}," ","there is no folders here ..."):m.map(function(e){return"folder"===e[".tag"]?o.a.createElement("div",{key:e.id+"move",className:h.a.MoveFolderLinks},o.a.createElement("img",{className:h.a.iconImgStyle,alt:"icon",src:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' focusable='false' width='40' height='40' viewBox='0 0 40 40' class='mc-icon mc-icon-template-content mc-icon-template-content--folder-small brws-file-name-cell-icon' role='img'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='M18.422 11h15.07c.84 0 1.508.669 1.508 1.493v18.014c0 .818-.675 1.493-1.508 1.493H6.508C5.668 32 5 31.331 5 30.507V9.493C5 8.663 5.671 8 6.5 8h7.805c.564 0 1.229.387 1.502.865l1.015 1.777s.4.358 1.6.358z' fill='%2371B9F4'%3E%3C/path%3E%3Cpath d='M18.422 10h15.07c.84 0 1.508.669 1.508 1.493v18.014c0 .818-.675 1.493-1.508 1.493H6.508C5.668 31 5 30.331 5 29.507V8.493C5 7.663 5.671 7 6.5 7h7.805c.564 0 1.229.387 1.502.865l1.015 1.777s.4.358 1.6.358z' fill='%2392CEFF'%3E%3C/path%3E%3C/g%3E%3C/svg%3E"}),o.a.createElement(s.b,{to:{pathname:t.pathname+("/"===t.pathname?"":"/")+e.name,state:{currentLocation:t.state.currentLocation}}},e.name)):null}))},N=function(e){var t=e.history,a=e.location,n=(e.name,e.moveOn),l=e.setMoveToggle,r=e.handleMove,c=e.action,s=e.dbx;return o.a.createElement(C,null,o.a.createElement(w,null,o.a.createElement("div",{className:h.a.ModalMainDiv},o.a.createElement("div",{className:h.a.ModalHeader},o.a.createElement("p",null,"Move item to...")),o.a.createElement("div",{className:h.a.ModalBody},o.a.createElement("div",{className:h.a.ModalBodyDiv},o.a.createElement("button",{onClick:"/move"!==a.pathname?function(){return t.goBack()}:null},o.a.createElement("span",null,"\u2190")),"Move item To",o.a.createElement("img",{className:h.a.iconImgStyle,alt:"icon",src:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' focusable='false' width='40' height='40' viewBox='0 0 40 40' class='mc-icon mc-icon-template-content mc-icon-template-content--folder-small brws-file-name-cell-icon' role='img'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='M18.422 11h15.07c.84 0 1.508.669 1.508 1.493v18.014c0 .818-.675 1.493-1.508 1.493H6.508C5.668 32 5 31.331 5 30.507V9.493C5 8.663 5.671 8 6.5 8h7.805c.564 0 1.229.387 1.502.865l1.015 1.777s.4.358 1.6.358z' fill='%2371B9F4'%3E%3C/path%3E%3Cpath d='M18.422 10h15.07c.84 0 1.508.669 1.508 1.493v18.014c0 .818-.675 1.493-1.508 1.493H6.508C5.668 31 5 30.331 5 29.507V8.493C5 7.663 5.671 7 6.5 7h7.805c.564 0 1.229.387 1.502.865l1.015 1.777s.4.358 1.6.358z' fill='%2392CEFF'%3E%3C/path%3E%3C/g%3E%3C/svg%3E"}),o.a.createElement("span",{className:h.a.ModalBodyDivSpan},a.pathname.replace("/move","Files").split("/").reverse()[0].toUpperCase()),"  ","folder"),o.a.createElement("div",{className:h.a.modalRoutsDiv},o.a.createElement(i.b,{path:"/move/",component:function(e){return o.a.createElement(O,Object.assign({},e,{action:c,dbx:s}))}})),o.a.createElement("div",{className:h.a.ModalButtons},o.a.createElement("button",{onClick:function(){return r()}},"Move"),o.a.createElement("button",{onClick:function(){return l(!n)}},"Cancel"))))))},S=function(e){var t=e.thumbnail,a=e.file,n=e.handleFavorite,r=e.handleRename,c=e.storage,i=e.ToggleNameChanger,m=e.nameOn,u=e.renameProgress,d=e.setRenameProgress,f=Object(l.useRef)();return Object(l.useEffect)(function(){m&&f.current.focus()},[m]),o.a.createElement(o.a.Fragment,null,o.a.createElement("td",null,o.a.createElement("img",{className:h.a.iconImgStyle,alt:"icon",src:t}),m?o.a.createElement("form",{className:h.a.changeNameForm,onSubmit:function(e){e.preventDefault(),r(f.current.value,u,d),i(!m)}},o.a.createElement("input",{ref:f,placeholder:a.name,className:h.a.changeNameInput})):"folder"===a[".tag"]?o.a.createElement(s.b,{to:a.path_lower},u?o.a.createElement("p",{style:{color:"#007ee5"}},"Renaming..."):a.name):o.a.createElement(o.a.Fragment,null,u?o.a.createElement("p",{style:{color:"#007ee5"}},"Renaming..."):a.name,o.a.createElement("button",{onClick:function(){return n(a)},className:h.a.favoriteButton},c&&-1!==c.findIndex(function(e){return e.id===a.id})?o.a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",className:h.a.favoriteIconOn},o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 20.95l-4.944 2.767 1.104-5.558L8 14.312l5.627-.667L16 8.5l2.373 5.145 5.627.667-4.16 3.847 1.104 5.558L16 20.949z"})):o.a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",className:h.a.favoriteIcon},o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 18.657l2.138 1.197-.478-2.403 1.799-1.663-2.433-.289L16 13.275l-1.026 2.224-2.433.289 1.799 1.663-.478 2.403L16 18.657zm-4.944 5.06l1.104-5.558L8 14.312l5.627-.667L16 8.5l2.373 5.145 5.627.667-4.16 3.847 1.104 5.558L16 20.949l-4.944 2.768z"}))))))};var M=function(e){var t,a,r=e.downloadFile,c=e.file,i=e.setModalDate,m=e.setMoveToggle,u=e.setDeleteToggle,d=e.ToggleNameChanger,f=e.moveOn,p=e.deleteOn,v=e.location,E=e.setCopyToggle,g=e.CopyOn,_=e.nameOn,b=Object(l.useState)(!1),w=Object(n.a)(b,2),y=w[0],C=w[1],D=Object(l.useRef)();return t=D,a=C,Object(l.useEffect)(function(){var e=function(e){t.current&&t.current.contains(e.target)&&"listToggler"===e.target.className&&a()};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),function(){document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}},[a,t]),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{onClick:function(){return C(!y)},className:"listToggler"},o.a.createElement("span",{className:"listToggler"},o.a.createElement("svg",{className:"listToggler",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32",role:"img"},o.a.createElement("g",{fill:"none",fillRule:"evenodd"},o.a.createElement("g",{fill:"#637282"},o.a.createElement("circle",{cx:"10.5",cy:"16.5",r:"1.8"}),o.a.createElement("circle",{cx:"15.5",cy:"16.5",r:"1.8"}),o.a.createElement("circle",{cx:"20.5",cy:"16.5",r:"1.8"})))))),y&&o.a.createElement("ul",{ref:D,className:h.a.list},o.a.createElement("li",{onClick:function(){return r(c.id,c.name,c[".tag"])}},"Download"),o.a.createElement("li",{onClick:function(){i({id:c.id,name:c.name,from_path:c.path_lower}),m(!f),C(!y)}},o.a.createElement(s.b,{to:{pathname:"/move",state:{currentLocation:v.pathname}}},"Move")),o.a.createElement("li",{onClick:function(){i({id:c.id,name:c.name,from_path:c.path_lower}),E(!g),C(!y)}},o.a.createElement(s.b,{to:{pathname:"/copy",state:{currentLocation:v.pathname}}},"Copy")),o.a.createElement("li",{onClick:function(){i({id:c.id,name:c.name,from_path:c.path_lower}),d(!_),C(!y)}},"Rename"),o.a.createElement("li",{onClick:function(){i({id:c.id,name:c.name,file:c}),u(!p),C(!y)}},"Delete")))},j=function(e){var t,a=e.file,r=e.handleFavorite,c=e.handleRename,i=e.storage,s=e.favorites,m=e.downloadFile,u=e.setModalDate,d=e.setMoveToggle,f=e.setDeleteToggle,p=e.setCopyToggle,v=e.CopyOn,E=e.moveOn,g=e.deleteOn,_=e.location;t="file"===a[".tag"]?a.thumbnail?"data:image/jpeg;base64, ".concat(a.thumbnail.thumbnail):"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3Csvg version='1.1' id='Capa_1' x='0px' y='0px' viewBox='0 0 60 60' style='enable-background:new 0 0 60 60;' xmlns='http://www.w3.org/2000/svg'%3E%3Cg%3E%3Cpath d='M42.5,22h-25c-0.552,0-1,0.447-1,1s0.448,1,1,1h25c0.552,0,1-0.447,1-1S43.052,22,42.5,22z' style='fill: rgb(0, 126, 229);'/%3E%3Cpath d='M17.5,16h10c0.552,0,1-0.447,1-1s-0.448-1-1-1h-10c-0.552,0-1,0.447-1,1S16.948,16,17.5,16z' style='fill: rgb(0, 126, 229);'/%3E%3Cpath d='M42.5,30h-25c-0.552,0-1,0.447-1,1s0.448,1,1,1h25c0.552,0,1-0.447,1-1S43.052,30,42.5,30z' style='fill: rgb(0, 126, 229);'/%3E%3Cpath d='M42.5,38h-25c-0.552,0-1,0.447-1,1s0.448,1,1,1h25c0.552,0,1-0.447,1-1S43.052,38,42.5,38z' style='fill: rgb(0, 126, 229);'/%3E%3Cpath d='M42.5,46h-25c-0.552,0-1,0.447-1,1s0.448,1,1,1h25c0.552,0,1-0.447,1-1S43.052,46,42.5,46z' style='fill: rgb(0, 126, 229);'/%3E%3Cpath d='M38.914,0H6.5v60h47V14.586L38.914,0z M39.5,3.414L50.086,14H39.5V3.414z M8.5,58V2h29v14h14v42H8.5z' style='fill: rgb(0, 126, 229);'/%3E%3C/g%3E%3Cg/%3E%3Cg/%3E%3Cg/%3E%3Cg/%3E%3Cg/%3E%3Cg/%3E%3Cg/%3E%3Cg/%3E%3Cg/%3E%3Cg/%3E%3Cg/%3E%3Cg/%3E%3Cg/%3E%3Cg/%3E%3Cg/%3E%3C/svg%3E":"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' focusable='false' width='40' height='40' viewBox='0 0 40 40' class='mc-icon mc-icon-template-content mc-icon-template-content--folder-small brws-file-name-cell-icon' role='img'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='M18.422 11h15.07c.84 0 1.508.669 1.508 1.493v18.014c0 .818-.675 1.493-1.508 1.493H6.508C5.668 32 5 31.331 5 30.507V9.493C5 8.663 5.671 8 6.5 8h7.805c.564 0 1.229.387 1.502.865l1.015 1.777s.4.358 1.6.358z' fill='%2371B9F4'%3E%3C/path%3E%3Cpath d='M18.422 10h15.07c.84 0 1.508.669 1.508 1.493v18.014c0 .818-.675 1.493-1.508 1.493H6.508C5.668 31 5 30.331 5 29.507V8.493C5 7.663 5.671 7 6.5 7h7.805c.564 0 1.229.387 1.502.865l1.015 1.777s.4.358 1.6.358z' fill='%2392CEFF'%3E%3C/path%3E%3C/g%3E%3C/svg%3E";var b=Object(l.useState)(!1),w=Object(n.a)(b,2),y=w[0],C=w[1],D=Object(l.useState)(!1),O=Object(n.a)(D,2),N=O[0],j=O[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement("tr",null,o.a.createElement(S,{thumbnail:t,file:a,handleFavorite:r,storage:i,ToggleNameChanger:C,nameOn:y,handleRename:c,renameProgress:N,setRenameProgress:j}),o.a.createElement("td",null,a.server_modified),o.a.createElement("td",null,a.size&&(1e-6*a.size).toFixed(2)+"MB"),o.a.createElement("td",null,o.a.createElement("div",{className:h.a.listDiv},!s&&o.a.createElement(M,{downloadFile:m,file:a,setModalDate:u,setMoveToggle:d,setDeleteToggle:f,setCopyToggle:p,ToggleNameChanger:C,CopyOn:v,moveOn:E,deleteOn:g,nameOn:y,location:_,renameProgress:N,setRenameProgress:j})||".."))))},F=function(e){var t=e.history,a=e.location,n=(e.name,e.CopyOn),r=e.setCopyToggle,c=e.handleCopy,s=e.action,m=e.dbx,u=Object(l.useRef)();return o.a.createElement(C,null,o.a.createElement(w,null,o.a.createElement("div",{className:h.a.ModalMainDiv},o.a.createElement("div",{className:h.a.ModalHeader},o.a.createElement("p",null,"Copy item to...")),o.a.createElement("div",{className:h.a.ModalBody},o.a.createElement("div",{className:h.a.ModalBodyDiv},o.a.createElement("button",{onClick:"/copy"!==a.pathname?function(){return t.goBack()}:null},o.a.createElement("span",null,"\u2190")),"Copy item To",o.a.createElement("img",{className:h.a.iconImgStyle,alt:"icon",src:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' focusable='false' width='40' height='40' viewBox='0 0 40 40' class='mc-icon mc-icon-template-content mc-icon-template-content--folder-small brws-file-name-cell-icon' role='img'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='M18.422 11h15.07c.84 0 1.508.669 1.508 1.493v18.014c0 .818-.675 1.493-1.508 1.493H6.508C5.668 32 5 31.331 5 30.507V9.493C5 8.663 5.671 8 6.5 8h7.805c.564 0 1.229.387 1.502.865l1.015 1.777s.4.358 1.6.358z' fill='%2371B9F4'%3E%3C/path%3E%3Cpath d='M18.422 10h15.07c.84 0 1.508.669 1.508 1.493v18.014c0 .818-.675 1.493-1.508 1.493H6.508C5.668 31 5 30.331 5 29.507V8.493C5 7.663 5.671 7 6.5 7h7.805c.564 0 1.229.387 1.502.865l1.015 1.777s.4.358 1.6.358z' fill='%2392CEFF'%3E%3C/path%3E%3C/g%3E%3C/svg%3E"}),o.a.createElement("span",{className:h.a.ModalBodyDivSpan},a.pathname.replace("/copy","Main").split("/").reverse()[0].toUpperCase()),"  ","folder"),o.a.createElement("div",{className:h.a.modalRoutsDiv},o.a.createElement("input",{ref:u,placeholder:"change the name"}),o.a.createElement(i.b,{path:"/copy/",component:function(e){return o.a.createElement(O,Object.assign({},e,{action:s,dbx:m}))}})),o.a.createElement("div",{className:h.a.ModalButtons},o.a.createElement("button",{onClick:function(){return c(u.current.value)}},"Copy"),o.a.createElement("button",{onClick:function(){return r(!n)}},"Cancel"))))))},I=a(5),x=function(e){var t=e.files,a=e.storage,r=e.setStorage,c=e.location,s=e.children,u=e.favorites,f=Object(l.useState)(!1),p=Object(n.a)(f,2),v=p[0],E=p[1],g=Object(l.useState)(!1),_=Object(n.a)(g,2),b=_[0],w=_[1],y=Object(l.useState)(!1),C=Object(n.a)(y,2),O=C[0],S=C[1],M=Object(l.useState)(""),x=Object(n.a)(M,2),B=x[0],L=x[1],T=Object(l.useState)(!1),k=Object(n.a)(T,2),R=k[0],z=k[1],U=Object(l.useState)(!1),A=Object(n.a)(U,2),H=A[0],P=A[1],q=Object(l.useContext)(d).dispatch,V=new I.Dropbox({accessToken:window.localStorage.getItem("token"),clientId:"qwcieudyqiph2un",fetch:fetch}),G=function(e){if(-1===a.findIndex(function(t){return t.id===e.id})){var t=[].concat(Object(m.a)(a),[e]);r(t)}else{var n=a.filter(function(t){return t.id!==e.id});r(n)}},W=function(e,t,a){return console.log("d start"),z(!0),P(!1),"file"===a?V.filesDownload({path:e}).then(function(e){var a=window.URL.createObjectURL(e.fileBlob),n=document.createElement("a");n.href=a,n.setAttribute("download",t),n.click(),P(!0),setTimeout(function(){console.log("done"),z(!1)},3e3)}).catch(function(e){console.error(e)}):V.filesDownloadZip({path:e}).then(function(e){var a=window.URL.createObjectURL(e.fileBlob),n=document.createElement("a");n.href=a,n.setAttribute("download",t),n.click(),P(!0),setTimeout(function(){console.log("done"),z(!1)},3e3)}).catch(function(e){console.error(e)}),!1},Q=function(){V.filesMove({from_path:B.from_path,to_path:c.pathname.replace("/move","")+"/"+B.name,allow_shared_folder:!1,autorename:!0,allow_ownership_transfer:!1}).then(function(){L(""),S(!O)}).catch(function(e){console.error(e)})},J=function(e){var t=B.name.indexOf(".")>-1?"."+B.name.replace(/^.*\./,""):"";V.filesCopy({from_path:B.from_path,to_path:c.pathname.replace("/copy","")+"/"+(e?e+t:B.name),allow_shared_folder:!1,autorename:!0,allow_ownership_transfer:!1}).then(function(){L(""),w(!b)}).catch(function(e){console.error(e)})},Y=function(e,t,n){var l=B.name.indexOf(".")>-1?"."+B.name.replace(/^.*\./,""):"";n(!t),V.filesMove({from_path:B.from_path,to_path:"/"===c.pathname?c.pathname+e+l:c.pathname+"/"+e+l,allow_shared_folder:!1,autorename:!0,allow_ownership_transfer:!1}).then(function(e){if(q({type:"CHANGE_NAME",file:e,id:e.id}),-1!==a.findIndex(function(t){return t.id===e.id})){var t=a[a.findIndex(function(t){return t.id===e.id})];t.name=e.name,t.path_display=e.path_display,t.path_lower=e.path_lower,t.server_modified=e.server_modified;var l=Object(m.a)(a);r(l)}n(!1)}).catch(function(e){console.error(e)})};return o.a.createElement(o.a.Fragment,null,v&&o.a.createElement(D,{name:B.name,deleteOn:v,setDeleteToggle:E,handleDelete:function(){V.filesDelete({path:B.id}).then(function(e){q({type:"DELETE_FILE",file:e})}).then(function(){if(-1===a.findIndex(function(e){return e.id===B.file.id})){var e=a.filter(function(e){return e.id!==B.file.id});r(e)}}).then(function(){return E(!v)}).then(function(){return L("")}).catch(function(e){console.error(e)})}}),O?o.a.createElement(i.b,{path:"/",render:function(e){return o.a.createElement(N,Object.assign({name:B.name,moveOn:O,setMoveToggle:S,handleMove:Q,dbx:V,action:"move"},e))}}):c.pathname.includes("/move")?o.a.createElement(i.a,{to:c.state.currentLocation}):null,b?o.a.createElement(i.b,{path:"/",render:function(e){return o.a.createElement(F,Object.assign({name:B.name,CopyOn:b,setCopyToggle:w,handleCopy:J,action:"copy",dbx:V},e))}}):c.pathname.includes("/copy")?o.a.createElement(i.a,{to:c.state.currentLocation}):null,o.a.createElement("div",{className:h.a.mainTableDisplayStyle},t&&t.length>0?o.a.createElement("table",{className:h.a.tableStyle},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,o.a.createElement("p",null,"Name")),o.a.createElement("th",null,"Modified"),o.a.createElement("th",null,"Size"),o.a.createElement("th",null,o.a.createElement("svg",{focusable:"false",width:"24",height:"24",viewBox:"0 0 24 24",role:"img"},o.a.createElement("g",{fill:"#637282",fillRule:"evenodd"},o.a.createElement("path",{d:"M6 15h2v2H6zM10 15h8v2h-8zM6 11h2v2H6zM10 11h8v2h-8zM6 7h2v2H6zM10 7h8v2h-8z"})))))),o.a.createElement("tbody",null,t.sort(function(e,t){return"folder"!==e[".tag"]&&"folder"!==t[".tag"]||e[".tag"]===t[".tag"]?e.name.toLowerCase()<t.name.toLowerCase()?-1:1:"folder"===e[".tag"]?-1:1}).map(function(e){return o.a.createElement(j,{key:e.id,file:e,handleFavorite:G,handleRename:Y,storage:a,favorites:u,downloadFile:W,setModalDate:L,setMoveToggle:S,setDeleteToggle:E,setCopyToggle:w,CopyOn:b,moveOn:O,deleteOn:v,location:c})}))):s,R?o.a.createElement("div",{className:h.a.downloadProgress},H?o.a.createElement(o.a.Fragment,null,o.a.createElement("span",null," ",o.a.createElement("svg",{focusable:"false",width:"24",height:"24",viewBox:"0 0 24 24",role:"img"},o.a.createElement("path",{d:"M12 5c-3.9 0-7 3.1-7 7s3.1 7 7 7 7-3.1 7-7-3.1-7-7-7zm-1.2 10.4L8 12.5l1.1-1.1 1.8 1.8 4.6-4.6 1.1 1.1-5.8 5.7z",fill:"#057849"}))),"ready"):o.a.createElement(o.a.Fragment,null,o.a.createElement("svg",{focusable:"false",width:"24",height:"24",viewBox:"0 0 24 24",role:"img",className:"svgSpinner"},o.a.createElement("path",{d:"M12 5c-3.9 0-7 3.1-7 7s3.1 7 7 7 7-3.1 7-7-3.1-7-7-7zm-2.1 8.8l-1.1 1.1c-.7-.7-1.1-1.7-1.1-2.8 0-2.3 1.9-4.3 4.3-4.3V6.7l1.8 1.8-1.8 1.7v-.9c-1.5 0-2.8 1.2-2.8 2.8.1.6.3 1.2.7 1.7zm2.1 2.5v1l-1.8-1.8 1.8-1.8v1c1.5 0 2.8-1.2 2.8-2.8 0-.7-.2-1.3-.6-1.8L15.3 9c.7.8 1.1 1.7 1.1 2.8-.1 2.6-2 4.5-4.4 4.5z",fill:"#0070E0"})),o.a.createElement("span",null,"Pleas wait..."))):null))},B=function(e){var t=e.location,a=e.history,r=b("favorites",[]),c=Object(n.a)(r,2),i=c[0],s=c[1],m=Object(l.useContext)(d),u=m.state,f=m.dispatch,p=u.files,v=u.searchActive,E=u.createFolder,g=new I.Dropbox({accessToken:window.localStorage.getItem("token"),clientId:"qwcieudyqiph2un",fetch:fetch}),w=Object(l.useCallback)(function(e){f({type:"FETCH_DATA",data:e,searchActive:!1})},[f]),y=Object(l.useRef)(null);return Object(l.useEffect)(function(){v||E?(v||E)&&y.current&&(clearInterval(y.current),y.current=null):(y.current&&clearInterval(y.current),y.current=setInterval(function(){t.pathname.includes("/move")||t.pathname.includes("/copy")||_(w,t.pathname,g)},1e3))},[v,t.pathname,w,g,E]),o.a.createElement(x,{files:p,storage:i,setStorage:s,location:t,FetchPath:function(){return _(w,t.pathname)},history:a},u.files&&0===u.files.length?u.searchActive?o.a.createElement("div",{className:h.a.searchDiv},o.a.createElement("p",null,"no similar files or folder"),o.a.createElement("button",{onClick:function(){f({type:"SEARCH_OFF"}),a.push("/")}},"Cancel")):"This folder is empty":o.a.createElement("div",{className:"spinner"}))},L=function(e){var t=e.on,a=e.setToggle,n=e.handleCreateFolder,r=Object(l.useContext)(d).dispatch;Object(l.useEffect)(function(){return function(){r({type:"CREATE_FOLDER_OF"})}},[r]);var c=Object(l.useRef)();return o.a.createElement(C,null,o.a.createElement(w,null,o.a.createElement("div",{className:h.a.ModalMainDiv},o.a.createElement("div",{className:h.a.ModalHeader},o.a.createElement("p",null,"New folder...")),o.a.createElement("div",null,o.a.createElement("form",{className:h.a.ModalBody,onSubmit:function(e){return e.preventDefault()}},o.a.createElement("div",{className:h.a.ModalBodyDiv},"Create a folder att"),o.a.createElement("div",{className:h.a.createFolderInputDiv},o.a.createElement("input",{ref:c,type:"text",placeholder:"Name",className:h.a.createFolderInput,required:!0})),o.a.createElement("div",{className:h.a.ModalButtons},o.a.createElement("button",{onClick:function(){return n(c.current.value)}},"Create"),o.a.createElement("button",{onClick:function(){return a(!t)}},"Cancel")))))))},T=function(e){var t=e.idx,a=e.items,n=e.info,l=e.uploadDone,r=e.setUploadDisabled,c=e.setUploadDone,i=(e.uploadDisabled,e.setInfo),s=e.setIdx,m=e.setItems,u=e.uploadedSize,d=n.name,f=n.size,p=parseInt(1+t/(a-2)*100);return l&&setTimeout(function(){r(!1),c(!1),s(0),m(0),i({name:"",size:""})},5e3),o.a.createElement("div",{className:h.a.UploadProgress},l?o.a.createElement("div",{className:h.a.fileInfo},o.a.createElement("svg",{focusable:"false",width:"24",height:"24",viewBox:"0 0 24 24",role:"img"},o.a.createElement("path",{d:"M12 5c-3.9 0-7 3.1-7 7s3.1 7 7 7 7-3.1 7-7-3.1-7-7-7zm-1.2 10.4L8 12.5l1.1-1.1 1.8 1.8 4.6-4.6 1.1 1.1-5.8 5.7z",fill:"#057849"})),o.a.createElement("span",null," Uploaded ",d," file done")):o.a.createElement("div",{className:h.a.fileInfo},o.a.createElement("svg",{focusable:"false",width:"24",height:"24",viewBox:"0 0 24 24",role:"img",className:"svgSpinner"},o.a.createElement("path",{d:"M12 5c-3.9 0-7 3.1-7 7s3.1 7 7 7 7-3.1 7-7-3.1-7-7-7zm-2.1 8.8l-1.1 1.1c-.7-.7-1.1-1.7-1.1-2.8 0-2.3 1.9-4.3 4.3-4.3V6.7l1.8 1.8-1.8 1.7v-.9c-1.5 0-2.8 1.2-2.8 2.8.1.6.3 1.2.7 1.7zm2.1 2.5v1l-1.8-1.8 1.8-1.8v1c1.5 0 2.8-1.2 2.8-2.8 0-.7-.2-1.3-.6-1.8L15.3 9c.7.8 1.1 1.7 1.1 2.8-.1 2.6-2 4.5-4.4 4.5z",fill:"#0070E0"})),o.a.createElement("span",null," Uploading ",d),o.a.createElement("span",null,(1e-6*f).toFixed(0)-u+"MB")),o.a.createElement("div",{className:h.a.progressBarContainer},o.a.createElement("div",{className:h.a.progressBar,style:{width:p+"%",background:l&&"#057849"}})))},k=function(e){var t=e.location,a=Object(l.useContext)(d).dispatch,r=Object(l.useState)(0),c=Object(n.a)(r,2),i=c[0],s=c[1],m=Object(l.useState)(0),u=Object(n.a)(m,2),f=u[0],p=u[1],v=Object(l.useState)({name:"",size:""}),E=Object(n.a)(v,2),g=E[0],b=E[1],w=Object(l.useState)(0),y=Object(n.a)(w,2),C=y[0],D=y[1],O=Object(l.useState)(!1),N=Object(n.a)(O,2),S=N[0],M=N[1],j=Object(l.useState)(!1),F=Object(n.a)(j,2),x=F[0],B=F[1],k=Object(l.useState)(!1),R=Object(n.a)(k,2),z=R[0],U=R[1],A=new I.Dropbox({accessToken:window.localStorage.getItem("token"),clientId:"qwcieudyqiph2un",fetch:fetch}),H=function(e){a({type:"FETCH_DATA",data:e})};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:h.a.ContainerDivStyle},o.a.createElement("label",{className:h.a.fileContainer},o.a.createElement("input",{type:"file",onChange:function(e){return function(e){if(e&&e.size<52428800)A.filesUpload({path:("/"===t.pathname?"":t.pathname)+"/"+e.name,contents:e}).then(function(){_(H,t.pathname,A)}).catch(function(e){console.error(e)});else{var a=[],n=0;for(M(!0),b({name:e.name,size:e.size});n<e.size;){var l=Math.min(8e6,e.size-n);a.push(e.slice(n,n+l)),n+=l}a.reduce(function(a,n,l,o){return 0===l?a.then(function(){return A.filesUploadSessionStart({close:!1,contents:n}).then(function(e){return s(l),p(o.length),e.session_id})}):l<o.length-1?a.then(function(e){var t={session_id:e,offset:8e6*l};return A.filesUploadSessionAppendV2({cursor:t,close:!1,contents:n}).then(function(){return s(l),D((8e6*l*1e-6).toFixed(0)),e})}):a.then(function(a){var l={session_id:a,offset:e.size-n.size},o={path:"/"+e.name,mode:"add",autorename:!0,mute:!1};return A.filesUploadSessionFinish({cursor:l,commit:o,contents:n}).then(function(e){_(H,t.pathname,A),B(!0)})})},Promise.resolve()).catch(function(e){console.error(e)})}return!1}(e.target.files[0])},disabled:S}),o.a.createElement("span",null," Upload Files")),o.a.createElement("button",{onClick:function(){U(!z),a({type:"CREATE_FOLDER_ON"})},className:h.a.buttonStyle},"New folder")),z&&o.a.createElement(L,{on:z,setToggle:U,handleCreateFolder:function(e){A.filesCreateFolder({path:("/"===t.pathname?"":t.pathname)+"/"+e,autorename:!0}).then(function(e){}).then(function(){return _(H,t.pathname,A)}).then(function(){return U(!z)}).catch(function(e){console.error(e)})}}),S&&o.a.createElement(T,{uploadDisabled:S,setUploadDisabled:M,setUploadDone:B,uploadDone:x,setInfo:b,idx:i,info:g,items:f,setIdx:s,setItems:p,uploadedSize:C}))},R=function(e){var t=e.location,a=b("favorites",[]),l=Object(n.a)(a,2),r=l[0],c=l[1];return o.a.createElement(x,{files:r,location:t,setStorage:c,storage:r,favorites:!0},o.a.createElement("p",null,"no favorites"))},z=function(){var e=Object(l.useState)(""),t=Object(n.a)(e,2),a=t[0],r=t[1],c=Object(l.useContext)(d).dispatch,i=new I.Dropbox({accessToken:window.localStorage.getItem("token"),clientId:"qwcieudyqiph2un",fetch:fetch});return o.a.createElement("form",{className:h.a.fromStyle,onSubmit:function(e){e.preventDefault(),console.log(a),i.filesSearch({path:"",query:a,start:0,max_results:10,mode:{".tag":"filename_and_content"}}).then(function(e){var t=e.matches.map(function(e){return e.metadata});a&&c({type:"FETCH_DATA",data:t,searchActive:!0})}).catch(function(e){console.error(e)}),r("")}},o.a.createElement("input",{placeholder:"search",className:h.a.inputStyle,value:a,type:"text",onChange:function(e){r(e.target.value)}}),o.a.createElement("button",{type:"submit",className:h.a.uploadButtonStyle},o.a.createElement("span",null,"\u26b2")))},U=a(23),A=(a(41),Object(U.a)()(function(e){var t=e.breadcrumbs,a=Object(l.useContext)(d).dispatch;return o.a.createElement("div",{className:"breadcrumbs"},t.map(function(e,t){var n=e.breadcrumb,l=e.match;return o.a.createElement("div",{className:"bc",key:l.url},o.a.createElement(s.b,{to:l.url||"",onClick:function(){return a({type:"SEARCH_OFF"})}},n),">")}))})),H=function(e){var t,a,r=e.history,c=(e.location,Object(l.useState)("")),i=Object(n.a)(c,2),s=i[0],m=i[1],u=s.name,d=Object(l.useState)(!1),f=Object(n.a)(d,2),p=f[0],v=f[1],E=Object(l.useState)(0),g=Object(n.a)(E,2),_=g[0],b=g[1],w=Object(l.useRef)();return t=w,a=v,Object(l.useEffect)(function(){var e=function(e){t.current&&!t.current.contains(e.target)&&"toggleDropList"!==e.target.alt&&a()};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),function(){document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}},[a,t]),Object(l.useEffect)(function(){var e=new I.Dropbox({accessToken:window.localStorage.getItem("token"),clientId:"qwcieudyqiph2un",fetch:fetch});e.usersGetAccount({account_id:localStorage.getItem("account_id")}).then(function(e){return m(e)}),e.usersGetSpaceUsage().then(function(e){b({all:e.allocation.allocated,used:e.used})})},[]),o.a.createElement("div",{className:h.a.topNavStyle},o.a.createElement("div",{className:h.a.topNavRight},o.a.createElement("button",{onClick:function(){return r.goBack()}},o.a.createElement("span",null,"\u2190")),o.a.createElement(A,null)),o.a.createElement("div",{className:h.a.topNavLeft},o.a.createElement(z,null),o.a.createElement("div",{className:h.a.UserDropDown},o.a.createElement("div",{className:h.a.UserDropDownIcon,onClick:function(){return v(!p)}},o.a.createElement("img",{src:"https://cfl.dropboxstatic.com/static/images/avatar/faceholder-vflGRnT85.svg",alt:"toggleDropList"})),p&&o.a.createElement("div",{className:h.a.UserDropDownDropList,ref:w},o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement("div",{className:h.a.dropDownListOne},o.a.createElement("div",{className:h.a.dropDownUserLogo},o.a.createElement("img",{src:"https://cfl.dropboxstatic.com/static/images/avatar/faceholder-vflGRnT85.svg",alt:""})),o.a.createElement("div",{className:h.a.dropDownUserInfo},o.a.createElement("span",null,s&&u.display_name),o.a.createElement("span",null,s.email))),o.a.createElement("div",{className:h.a.dropDownProgress},o.a.createElement("div",{className:h.a.dropDownProgressBar,style:{width:_.used/_.all*100+"%"}}))),o.a.createElement("li",{className:h.a.dropDownListTow},o.a.createElement("span",null,(_.used/1e6).toFixed(2)," MB of"," ",_.all/1073741824,"GB used"),_.all/1073741824<=2?o.a.createElement("span",null,"Upgrade"):null),o.a.createElement("li",{onClick:function(){window.localStorage.removeItem("token"),r.push("/login")},className:h.a.dropDownListThree},"sign out"))))))},P=(new I.Dropbox({accessToken:window.localStorage.getItem("token"),clientId:"qwcieudyqiph2un",fetch:fetch}),function(e){var t=window.localStorage.getItem("token"),a=Object(l.useRef)();return Object(l.useEffect)(function(){var e=new I.Dropbox({accessToken:t,clientId:"c86j2qdnv7amuq6",fetch:fetch}).getAuthenticationUrl("https://avvyt.github.io/mandatory-advanced-js5/callback");t||(a.current.href=e)},[t]),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:h.a.mainDivStyle},t?o.a.createElement(o.a.Fragment,null,o.a.createElement(g,e),o.a.createElement("div",{style:{flex:9,height:"100%"}},o.a.createElement("div",{className:h.a.DisplayDivStyle},o.a.createElement(H,e),o.a.createElement("div",{className:h.a.filesDiv},o.a.createElement(i.d,null,o.a.createElement(i.b,{path:"/favorites",exact:!0,component:R}),o.a.createElement(i.b,{path:"/",component:B})),o.a.createElement(k,e))))):o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,"Dropbox"),o.a.createElement("a",{href:"/",ref:a},o.a.createElement("button",{className:h.a.connectButtonStyle},"connect")))))});c.a.render(o.a.createElement(s.a,{basename:"/mandatory-advanced-js5"},o.a.createElement(function(){var e=Object(l.useContext)(d),t=Object(l.useReducer)(f,e),a=Object(n.a)(t,2),r=a[0],c=a[1];return o.a.createElement(d.Provider,{value:{state:r,dispatch:c}},o.a.createElement(i.d,null,o.a.createElement(i.b,{path:"/callback",exact:!0,component:E}),o.a.createElement(i.b,{path:"/",component:P}),o.a.createElement(i.a,{to:"/login"})))},null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[24,1,2]]]);
//# sourceMappingURL=main.b0fdbed4.chunk.js.map